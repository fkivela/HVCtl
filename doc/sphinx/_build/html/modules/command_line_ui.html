
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>hvctl.command_line_ui &#8212; HVCtl  documentation</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="hvctl.advanced_tui" href="advanced_tui.html" />
    <link rel="prev" title="hvctl.widgets" href="widgets.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="module-hvctl.command_line_ui">
<span id="hvctl-command-line-ui"></span><h1><a class="reference internal" href="#module-hvctl.command_line_ui" title="hvctl.command_line_ui"><code class="xref py py-mod docutils literal notranslate"><span class="pre">hvctl.command_line_ui</span></code></a><a class="headerlink" href="#module-hvctl.command_line_ui" title="Permalink to this headline">¶</a></h1>
<p>This module defines a simple command-line UI for HVCtl.</p>
<dl class="class">
<dt id="hvctl.command_line_ui.CommandLineUI">
<em class="property">class </em><code class="sig-prename descclassname">hvctl.command_line_ui.</code><code class="sig-name descname">CommandLineUI</code><span class="sig-paren">(</span><em class="sig-param">inputfile=None</em>, <em class="sig-param">outputfile=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#hvctl.command_line_ui.CommandLineUI" title="Permalink to this definition">¶</a></dt>
<dd><p>A simple command-line UI.</p>
<dl class="attribute">
<dt id="hvctl.command_line_ui.CommandLineUI.inputfile">
<code class="sig-name descname">inputfile</code><a class="headerlink" href="#hvctl.command_line_ui.CommandLineUI.inputfile" title="Permalink to this definition">¶</a></dt>
<dd><p>A file object for receiving input.</p>
</dd></dl>

<dl class="attribute">
<dt id="hvctl.command_line_ui.CommandLineUI.outputfile">
<code class="sig-name descname">outputfile</code><a class="headerlink" href="#hvctl.command_line_ui.CommandLineUI.outputfile" title="Permalink to this definition">¶</a></dt>
<dd><p>A file object for writing output.</p>
</dd></dl>

<dl class="attribute">
<dt id="hvctl.command_line_ui.CommandLineUI.debug">
<code class="sig-name descname">debug</code><a class="headerlink" href="#hvctl.command_line_ui.CommandLineUI.debug" title="Permalink to this definition">¶</a></dt>
<dd><p>Setting this to True enables a debug mode; the default
value is <code class="docutils literal notranslate"><span class="pre">False</span></code>.
See <a class="reference internal" href="#hvctl.command_line_ui.CommandLineUI.cmd_debug" title="hvctl.command_line_ui.CommandLineUI.cmd_debug"><code class="xref py py-meth docutils literal notranslate"><span class="pre">cmd_debug()</span></code></a> for details.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="hvctl.command_line_ui.CommandLineUI.api">
<code class="sig-name descname">api</code><a class="headerlink" href="#hvctl.command_line_ui.CommandLineUI.api" title="Permalink to this definition">¶</a></dt>
<dd><p>An <a class="reference internal" href="api.html#hvctl.api.API" title="hvctl.api.API"><code class="xref py py-class docutils literal notranslate"><span class="pre">API</span></code></a> object used to send commands
to the HV PSU.</p>
</dd></dl>

<dl class="method">
<dt id="hvctl.command_line_ui.CommandLineUI.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param">inputfile=None</em>, <em class="sig-param">outputfile=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#hvctl.command_line_ui.CommandLineUI.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize a new CommandLineUI.</p>
<p>:param <a class="reference internal" href="config.html#hvctl.config.SERIAL_KWARGS" title="hvctl.config.SERIAL_KWARGS"><code class="xref py py-attr docutils literal notranslate"><span class="pre">SERIAL_KWARGS</span></code></a> is used.:</p>
<blockquote>
<div><dl class="simple">
<dt>inputfile:</dt><dd><p>The value of <a class="reference internal" href="#hvctl.command_line_ui.CommandLineUI.inputfile" title="hvctl.command_line_ui.CommandLineUI.inputfile"><code class="xref py py-attr docutils literal notranslate"><span class="pre">inputfile</span></code></a>.
If this is <code class="docutils literal notranslate"><span class="pre">None</span></code>, the value is <code class="xref py py-attr docutils literal notranslate"><span class="pre">sys.stdin</span></code>.</p>
</dd>
<dt>outputfile:</dt><dd><p>The value of <a class="reference internal" href="#hvctl.command_line_ui.CommandLineUI.outputfile" title="hvctl.command_line_ui.CommandLineUI.outputfile"><code class="xref py py-attr docutils literal notranslate"><span class="pre">outputfile</span></code></a>.
If this is <code class="docutils literal notranslate"><span class="pre">None</span></code>, the value is <code class="xref py py-attr docutils literal notranslate"><span class="pre">sys.stdin</span></code>.</p>
</dd>
<dt>kwargs:</dt><dd><p>Keyword arguments are passed to the constructor of
<a class="reference internal" href="#hvctl.command_line_ui.CommandLineUI.api" title="hvctl.command_line_ui.CommandLineUI.api"><code class="xref py py-attr docutils literal notranslate"><span class="pre">api</span></code></a>.</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="hvctl.command_line_ui.CommandLineUI.__enter__">
<code class="sig-name descname">__enter__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#hvctl.command_line_ui.CommandLineUI.__enter__" title="Permalink to this definition">¶</a></dt>
<dd><p>Called upon entering a <code class="docutils literal notranslate"><span class="pre">with</span></code> block; returns <em>self</em>.</p>
</dd></dl>

<dl class="method">
<dt id="hvctl.command_line_ui.CommandLineUI.__exit__">
<code class="sig-name descname">__exit__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#hvctl.command_line_ui.CommandLineUI.__exit__" title="Permalink to this definition">¶</a></dt>
<dd><p>Called upon exiting a <code class="docutils literal notranslate"><span class="pre">with</span></code> block;
calls <a class="reference internal" href="api.html#hvctl.api.API.halt" title="hvctl.api.API.halt"><code class="xref py py-meth docutils literal notranslate"><span class="pre">api.halt()</span></code></a>.</p>
</dd></dl>

<dl class="attribute">
<dt id="hvctl.command_line_ui.CommandLineUI.cmds_and_aliases">
<code class="sig-name descname">cmds_and_aliases</code><a class="headerlink" href="#hvctl.command_line_ui.CommandLineUI.cmds_and_aliases" title="Permalink to this definition">¶</a></dt>
<dd><p>Class attribute.
A list of two-index tuples.
The first index is of each tuple is the primary name of a command
accepted by the UI,
and the second is a list of aliases for that command.</p>
</dd></dl>

<dl class="method">
<dt id="hvctl.command_line_ui.CommandLineUI.cmd_debug">
<code class="sig-name descname">cmd_debug</code><span class="sig-paren">(</span><em class="sig-param">value</em><span class="sig-paren">)</span><a class="headerlink" href="#hvctl.command_line_ui.CommandLineUI.cmd_debug" title="Permalink to this definition">¶</a></dt>
<dd><p>Activate or deactivate debug mode.</p>
<p>If bool(value) evaluates to True, debug mode is activated;
otherwise it is deactivated.</p>
<p>When debug mode is inactive, TypeErrors and ValueErrors raised
during the execution of commands are caught to prevent users
from crashing the program with invalid commands.
In debug mode, this functionality is disabled to make
debugging easier.</p>
</dd></dl>

<dl class="method">
<dt id="hvctl.command_line_ui.CommandLineUI.cmd_exit">
<code class="sig-name descname">cmd_exit</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#hvctl.command_line_ui.CommandLineUI.cmd_exit" title="Permalink to this definition">¶</a></dt>
<dd><p>Exit the UI.</p>
</dd></dl>

<dl class="method">
<dt id="hvctl.command_line_ui.CommandLineUI.cmd_fullstatus">
<code class="sig-name descname">cmd_fullstatus</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#hvctl.command_line_ui.CommandLineUI.cmd_fullstatus" title="Permalink to this definition">¶</a></dt>
<dd><p>Get full HV status including voltage and current.</p>
</dd></dl>

<dl class="method">
<dt id="hvctl.command_line_ui.CommandLineUI.cmd_getcurrent">
<code class="sig-name descname">cmd_getcurrent</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#hvctl.command_line_ui.CommandLineUI.cmd_getcurrent" title="Permalink to this definition">¶</a></dt>
<dd><p>Get HV current (in mA).</p>
</dd></dl>

<dl class="method">
<dt id="hvctl.command_line_ui.CommandLineUI.cmd_getvoltage">
<code class="sig-name descname">cmd_getvoltage</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#hvctl.command_line_ui.CommandLineUI.cmd_getvoltage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get HV voltage (in V).</p>
</dd></dl>

<dl class="method">
<dt id="hvctl.command_line_ui.CommandLineUI.cmd_help">
<code class="sig-name descname">cmd_help</code><span class="sig-paren">(</span><em class="sig-param">value=None</em><span class="sig-paren">)</span><a class="headerlink" href="#hvctl.command_line_ui.CommandLineUI.cmd_help" title="Permalink to this definition">¶</a></dt>
<dd><p>Disply a help message.</p>
<p><em>value</em> should be the name or alias of a command that should
be described. If no <em>value</em> is specified, all commands are
listed and described.</p>
</dd></dl>

<dl class="method">
<dt id="hvctl.command_line_ui.CommandLineUI.cmd_hvoff">
<code class="sig-name descname">cmd_hvoff</code><span class="sig-paren">(</span><em class="sig-param">value</em><span class="sig-paren">)</span><a class="headerlink" href="#hvctl.command_line_ui.CommandLineUI.cmd_hvoff" title="Permalink to this definition">¶</a></dt>
<dd><p>Turn the HV off.</p>
</dd></dl>

<dl class="method">
<dt id="hvctl.command_line_ui.CommandLineUI.cmd_hvon">
<code class="sig-name descname">cmd_hvon</code><span class="sig-paren">(</span><em class="sig-param">value</em><span class="sig-paren">)</span><a class="headerlink" href="#hvctl.command_line_ui.CommandLineUI.cmd_hvon" title="Permalink to this definition">¶</a></dt>
<dd><p>Turn the HV on.</p>
</dd></dl>

<dl class="method">
<dt id="hvctl.command_line_ui.CommandLineUI.cmd_inhibit">
<code class="sig-name descname">cmd_inhibit</code><span class="sig-paren">(</span><em class="sig-param">value</em><span class="sig-paren">)</span><a class="headerlink" href="#hvctl.command_line_ui.CommandLineUI.cmd_inhibit" title="Permalink to this definition">¶</a></dt>
<dd><p>Activate or deactivate HV inhibition.</p>
<p>If bool(value) evaluates to <code class="docutils literal notranslate"><span class="pre">True</span></code>, inhibition is activated;
otherwise it is deactivated.</p>
</dd></dl>

<dl class="method">
<dt id="hvctl.command_line_ui.CommandLineUI.cmd_mode">
<code class="sig-name descname">cmd_mode</code><span class="sig-paren">(</span><em class="sig-param">value</em><span class="sig-paren">)</span><a class="headerlink" href="#hvctl.command_line_ui.CommandLineUI.cmd_mode" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the HV to remote or local mode.</p>
<p>Set <em>value</em> to ‘local’, ‘l’ or 1 for local mode, or
‘remote’, ‘r’ or 0 for remote mode.</p>
</dd></dl>

<dl class="method">
<dt id="hvctl.command_line_ui.CommandLineUI.cmd_setcurrent">
<code class="sig-name descname">cmd_setcurrent</code><span class="sig-paren">(</span><em class="sig-param">value</em><span class="sig-paren">)</span><a class="headerlink" href="#hvctl.command_line_ui.CommandLineUI.cmd_setcurrent" title="Permalink to this definition">¶</a></dt>
<dd><p>Set HV current to <em>value</em> (in mA).</p>
</dd></dl>

<dl class="method">
<dt id="hvctl.command_line_ui.CommandLineUI.cmd_setvoltage">
<code class="sig-name descname">cmd_setvoltage</code><span class="sig-paren">(</span><em class="sig-param">value</em><span class="sig-paren">)</span><a class="headerlink" href="#hvctl.command_line_ui.CommandLineUI.cmd_setvoltage" title="Permalink to this definition">¶</a></dt>
<dd><p>Set HV voltage to <em>value</em> (in V).</p>
</dd></dl>

<dl class="method">
<dt id="hvctl.command_line_ui.CommandLineUI.cmd_status">
<code class="sig-name descname">cmd_status</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#hvctl.command_line_ui.CommandLineUI.cmd_status" title="Permalink to this definition">¶</a></dt>
<dd><p>Get HV status (excluding voltage and current).</p>
</dd></dl>

<dl class="attribute">
<dt id="hvctl.command_line_ui.CommandLineUI.indent">
<code class="sig-name descname">indent</code><em class="property"> = '    '</em><a class="headerlink" href="#hvctl.command_line_ui.CommandLineUI.indent" title="Permalink to this definition">¶</a></dt>
<dd><p>Class attribute.
A string used to indent text blocks.</p>
</dd></dl>

<dl class="method">
<dt id="hvctl.command_line_ui.CommandLineUI.input">
<code class="sig-name descname">input</code><span class="sig-paren">(</span><em class="sig-param">prompt=''</em><span class="sig-paren">)</span><a class="headerlink" href="#hvctl.command_line_ui.CommandLineUI.input" title="Permalink to this definition">¶</a></dt>
<dd><p>Ask the user for input.</p>
<p>This method works like the built-in <code class="xref py py-func docutils literal notranslate"><span class="pre">input()</span></code> function,
but uses <a class="reference internal" href="#hvctl.command_line_ui.CommandLineUI.inputfile" title="hvctl.command_line_ui.CommandLineUI.inputfile"><code class="xref py py-attr docutils literal notranslate"><span class="pre">inputfile</span></code></a> and <a class="reference internal" href="#hvctl.command_line_ui.CommandLineUI.outputfile" title="hvctl.command_line_ui.CommandLineUI.outputfile"><code class="xref py py-attr docutils literal notranslate"><span class="pre">outputfile</span></code></a> instead of
<code class="xref py py-attr docutils literal notranslate"><span class="pre">sys.stdin</span></code> and <code class="xref py py-attr docutils literal notranslate"><span class="pre">sys.stdout</span></code>.</p>
</dd></dl>

<dl class="attribute">
<dt id="hvctl.command_line_ui.CommandLineUI.intro">
<code class="sig-name descname">intro</code><em class="property"> = &quot;Welcome to HVCtl! Type 'help' for a list of commands.&quot;</em><a class="headerlink" href="#hvctl.command_line_ui.CommandLineUI.intro" title="Permalink to this definition">¶</a></dt>
<dd><p>Class attribute.
A string displayed to the user upon starting the UI.</p>
</dd></dl>

<dl class="method">
<dt id="hvctl.command_line_ui.CommandLineUI.print">
<code class="sig-name descname">print</code><span class="sig-paren">(</span><em class="sig-param">*objects</em>, <em class="sig-param">sep=' '</em>, <em class="sig-param">end='\n'</em><span class="sig-paren">)</span><a class="headerlink" href="#hvctl.command_line_ui.CommandLineUI.print" title="Permalink to this definition">¶</a></dt>
<dd><p>Print text to the UI.</p>
<p>This method works like the built-in <code class="xref py py-func docutils literal notranslate"><span class="pre">print()</span></code> function,
but uses <a class="reference internal" href="#hvctl.command_line_ui.CommandLineUI.inputfile" title="hvctl.command_line_ui.CommandLineUI.inputfile"><code class="xref py py-attr docutils literal notranslate"><span class="pre">inputfile</span></code></a> and <a class="reference internal" href="#hvctl.command_line_ui.CommandLineUI.outputfile" title="hvctl.command_line_ui.CommandLineUI.outputfile"><code class="xref py py-attr docutils literal notranslate"><span class="pre">outputfile</span></code></a> instead of
<code class="xref py py-attr docutils literal notranslate"><span class="pre">sys.stdin</span></code> and <code class="xref py py-attr docutils literal notranslate"><span class="pre">sys.stdout</span></code>, and doesn’t include
the <em>file</em> argument.</p>
</dd></dl>

<dl class="attribute">
<dt id="hvctl.command_line_ui.CommandLineUI.prompt">
<code class="sig-name descname">prompt</code><em class="property"> = '&gt;&gt; '</em><a class="headerlink" href="#hvctl.command_line_ui.CommandLineUI.prompt" title="Permalink to this definition">¶</a></dt>
<dd><p>Class attribute.
A string displayed to the user every time the UI requests input.</p>
</dd></dl>

<dl class="method">
<dt id="hvctl.command_line_ui.CommandLineUI.run">
<code class="sig-name descname">run</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#hvctl.command_line_ui.CommandLineUI.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Start the UI.</p>
</dd></dl>

</dd></dl>

</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">HVCtl</a></h1>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage.html">Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../protocol.html">RS232 Control protocol</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Modules</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="config.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">hvctl.config</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="message.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">hvctl.message</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="api.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">hvctl.api</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="widgets.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">hvctl.widgets</span></code></a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#"><code class="xref py py-mod docutils literal notranslate"><span class="pre">hvctl.command_line_ui</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="advanced_tui.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">hvctl.advanced_tui</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="queuefile.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">hvctl.queuefile</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="virtualconnection.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">hvctl.virtualconnection</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="virtualhv.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">hvctl.virtualhv</span></code></a></li>
</ul>
</li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="index.html">Modules</a><ul>
      <li>Previous: <a href="widgets.html" title="previous chapter"><code class="xref py py-mod docutils literal notranslate"><span class="pre">hvctl.widgets</span></code></a></li>
      <li>Next: <a href="advanced_tui.html" title="next chapter"><code class="xref py py-mod docutils literal notranslate"><span class="pre">hvctl.advanced_tui</span></code></a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2019, University of Helsinki Fusor Team.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.1.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/modules/command_line_ui.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>